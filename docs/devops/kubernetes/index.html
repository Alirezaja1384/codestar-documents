<!doctype html>
<html lang="fa-IR" dir="rtl" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-devops/kubernetes">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="alternate" type="application/rss+xml" href="/codestar-documents/blog/rss.xml" title="آکادمی ستاره RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/codestar-documents/blog/atom.xml" title="آکادمی ستاره Atom Feed"><title data-rh="true">Kubernetes (اختیاری) | آکادمی ستاره</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://star-academy.github.io//codestar-documents/docs/devops/kubernetes"><meta data-rh="true" name="docusaurus_locale" content="fa"><meta data-rh="true" name="docsearch:language" content="fa"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Kubernetes (اختیاری) | آکادمی ستاره"><meta data-rh="true" name="description" content="در بخش"><meta data-rh="true" property="og:description" content="در بخش"><link data-rh="true" rel="icon" href="/codestar-documents/images/favicon.ico"><link data-rh="true" rel="canonical" href="https://star-academy.github.io//codestar-documents/docs/devops/kubernetes"><link data-rh="true" rel="alternate" href="https://star-academy.github.io//codestar-documents/docs/devops/kubernetes" hreflang="fa-IR"><link data-rh="true" rel="alternate" href="https://star-academy.github.io//codestar-documents/docs/devops/kubernetes" hreflang="x-default"><link rel="stylesheet" href="/codestar-documents/assets/css/styles.031de4d3.css">
<link rel="preload" href="/codestar-documents/assets/js/runtime~main.cb905b72.js" as="script">
<link rel="preload" href="/codestar-documents/assets/js/main.b72dbebf.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">پرش به مطلب اصلی</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/codestar-documents/"><div class="navbar__logo"><img src="/codestar-documents/images/logo.svg" alt="لوگو آکادمی ستاره" class="themedImage_ToTc themedImage--light_HNdA"><img src="/codestar-documents/images/logo.svg" alt="لوگو آکادمی ستاره" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">آکادمی ستاره</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/codestar-documents/docs/intro">مقدمات</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/codestar-documents/docs/frontend">فرانت‌اند</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/codestar-documents/docs/software-engineering">مهندسی نرم‌افزار</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/codestar-documents/docs/devops">دوآپس</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/codestar-documents/docs/general">عمومی</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/codestar-documents/docs/project">پروژه</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/codestar-documents/docs/Roadmaps">مسیرهای یادگیری</a></div><div class="navbar__items navbar__items--right"><a href="https://www.aparat.com/Code_star/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Aparat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/Star-Academy/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="بین حالت تاریک و روشن سوئیچ کنید (الان حالت روشن)" aria-label="بین حالت تاریک و روشن سوئیچ کنید (الان حالت روشن)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="بازگشت به بالا" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/codestar-documents/docs/intro">مقدمات</a><button aria-label="دسته‌بندی برچسب &#x27;مقدمات&#x27; در نوار کناری را تغییر دهید " type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/codestar-documents/docs/general">عمومی</a><button aria-label="دسته‌بندی برچسب &#x27;عمومی&#x27; در نوار کناری را تغییر دهید " type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/codestar-documents/docs/frontend">فرانت‌اند</a><button aria-label="دسته‌بندی برچسب &#x27;فرانت‌اند&#x27; در نوار کناری را تغییر دهید " type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/codestar-documents/docs/software-engineering">مهندسی نرم‌افزار</a><button aria-label="دسته‌بندی برچسب &#x27;مهندسی نرم‌افزار&#x27; در نوار کناری را تغییر دهید " type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/codestar-documents/docs/devops">DevOps</a><button aria-label="دسته‌بندی برچسب &#x27;DevOps&#x27; در نوار کناری را تغییر دهید " type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/devops/linux">Linux</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/devops/network">Computer Networks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/devops/nginx">Nginx</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/devops/ha-concept">HA Concept</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/devops/golang">Go</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/devops/test-concept">Test Concept</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/devops/containerization">Containerization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/codestar-documents/docs/devops/kubernetes">Kubernetes (اختیاری)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/devops/everything-as-code-concept">Everything as Code Concept</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/devops/ansible">Ansible</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/devops/automation-concept">Automation Concept</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/devops/ci-cd-pipeline">CI/CD Pipeline</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/devops/gitops-concept">GitOps Concept</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/devops/o11y">Observability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/devops/elk">ELK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/devops/grafana-prometheus">Grafana - Prometheus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/devops/jaegar">Jaegar (اختیاری)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/codestar-documents/docs/devops/databases">Databases (اختیاری)</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/codestar-documents/docs/project">پروژه</a><button aria-label="دسته‌بندی برچسب &#x27;پروژه&#x27; در نوار کناری را تغییر دهید " type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/codestar-documents/docs/Roadmaps">مسیرهای یادگیری</a><button aria-label="دسته‌بندی برچسب &#x27;مسیرهای یادگیری&#x27; در نوار کناری را تغییر دهید " type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="بستن نوار کناری" aria-label="بستن نوار کناری" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="نشانگر صفحات"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="صفحه اصلی" class="breadcrumbs__link" href="/codestar-documents/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/codestar-documents/docs/devops"><span itemprop="name">DevOps</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Kubernetes (اختیاری)</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">مطالب این صفحه</button></div><div class="theme-doc-markdown markdown"><header><h1>Kubernetes (اختیاری)</h1></header><p>در بخش
Containerization
با کانتینرها و مزایای آن‌ها آشنا شدیم. با ورود کانتینرها، استقرار نرم‌افزارها بیش از گذشته ساده و سریع‌تر شد. این اتفاق
باعث توسعه سریع‌تر نرم‌افزارها و افزایش انتظار کاربران از سرویس‌های پر استفاده شد. با افزایش این انتظارات دیگر اجرای
نرم‌افزارها در یک محیط آماده و ایزوله کافی نبود. حالا از آن‌ها انتظار می‌رفت که بدون تاخیر و قطعی کار کرده، همواره و زیر
فشار بالا به درخواست‌های کاربران پاسخ داده و سریع به‌روز رسانی شوند. برای پاسخ دادن به این نیازمندی، دیگر اجرای
نرم‌افزارها بر روی یک سرور و رها کردن آن‌ها روش کارآمدی نبود و به همین خاطر نیاز بود ابزاری بوجود بیاید که نرم‌افزارها
را بر روی فضای ابری مدیریت کند.</p><h1>کوبرنیتیز</h1><p>گفتیم که کانتینرها با ورود داکر، تبدیل به روش استاندارد استقرار نرم‌افزارها شدند، اما با پیچیده‌تر شدن نیازمندی‌های
بازار، کانتینرها به تنهایی نمی‌توانستند پاسخگوی نیازها باشند و نیاز به یک ابزار برای مدیریت آن‌ها در شرایط پیچیده حس
می‌شد. ابزارهایی که از دل این نیاز بوجود آمدند،
Orchestratorها
بودند.</p><p>یکی از این
Orchestratorها
کوبرنیتیز بود. (ابزارهای دیگری مانند
Docker Swarm،
Hashicorp Nomad
و
Apache Mesos
نیز وجود دارند که شبیه به کوبرنیتیز عمل می‌کنند.)</p><p>برای آشنایی بهتر با کوبرنیتیز بهتر است اول مشکلاتی که کوبرنیتیز قصد حل کردن آن‌ها را دارد را بشناسیم و سپس به روش کارکرد
آن بپردازیم:</p><ul><li>مدیریت و استقرار خودکار برنامه‌ها: معمولا بررسی دستی منابع در دسترس و انتخاب بهینه سرورها برای اجرای نرم‌افزارها کاری
پیچیده و احتمالا غیرممکن است. به همین خاطر دوست داریم این انتخاب‌های بهینه بر اساس نیازمندی‌های ما به صورت خودکار
انجام شود.</li><li>مدیریت خودکار ارتباط بین سرویس‌ها: در شرایط و معماری‌های پیچیده نرم‌افزارهای بزرگ، مدیریت شبکه و ارتباط بین آن‌ها چالش
آفرین بوده و بدون داشتن یک لایه ابسترکشن، حل مشکلات بسیار پیچیده می‌شود.</li><li>خودترمیمی: نرم‌افزارهای ما ممکن است به دلایل مختلفی دچار مشکل شده و از دسترس خارج شوند، در چنین شرایطی باید سیستمی
وجود داشته باشد که آن‌ها را به صورت خودکار بازگردانی کرده و سعی کند مشکل را حل کند.</li><li>به‌روزرسانی خودکار: به‌روزرسانی دستی نرم‌افزارها کاری پیچیده و مستعد خطاست، به همین علت به یک راه خودکار برای
به‌روزرسانی سریع و بدون مشکل نرم‌افزارها نیاز داریم.</li></ul><p>کوبرنیتیز سکویی (
Platform
) متن‌باز برای حل این مشکلات و ایجاد یک راه‌حل خودکار برای مدیریت سیستم‌های کانتینری است. حالا که متوجه شدیم کوبرنیتیز
سعی در حل چه چالش‌هایی دارد راه خود را از دور به سمت شناخت این ابزار باز می‌کنیم.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="promise-theory">Promise Theory<a class="hash-link" href="#promise-theory" title="لینک مستقیم به عنوان">​</a></h2><p>کوبرنیتیز بر اساس یک نظریه به نام
Promise Theory
کار می‌کند. برای شناخت این نظریه و اینکه چطور کوبرنیتیز با استفاده از آن به ما کمک می‌کند که نرم‌افزارهایمان را بهتر
مدیریت کنیم، بهتر است که یک مثال بزنیم.</p><p>زمانی که شما می‌خواهید یک بسته پست کنید، به اداره پست نمی‌گویید که باید بسته شما با ماشین یا هواپیما جابه‌جا شود. شما
صرفا بسته خود را داخل یک جعبه گذاشته، مبدا و مقصد را مشخص می‌کنید و آن را به اداره پست می‌سپارید. در مقابل اداره پست به
شما قول می‌دهد که بسته شما تا یک زمان خاص به مقصد برسد. در چنین شرایطی برای شما مهم نیست که آب و هوا بد باشد یا وسیله
نقلیه‌ای که برای انتقال بسته شما استفاده شده چیست یا اگر این وسیله دچار مشکل شود چه اتفاقی می‌افتد. تنها چیزی که برای
شما اهمیت دارد رسیدن صحیح بسته به مقصد است که اداره پست این کار را برای شما انجام می‌دهد.</p><p>کوبرنیتیز هم دقیقا مانند اداره پست عمل می‌کند. ما برنامه‌های خود را داخل کانتینرها قرار داده، نیازمندی‌های اجرای آن‌ها
را توصیف می‌کنیم و در مقابل کوبرنیتیز به ما قول می‌دهد که نیازمندی‌های نرم‌افزار ما را برآورده کند.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="زیر-پوست-کوبرنیتیز">زیر پوست کوبرنیتیز<a class="hash-link" href="#زیر-پوست-کوبرنیتیز" title="لینک مستقیم به عنوان">​</a></h2><p>تا اینجای کار دیدیم که کوبرنیتیز به چه نیازهایی پاسخ می‌دهد و از دور چطور این کار را انجام می‌دهد. حالا بیایید با هم
ببینیم که کوبرنیتیز واقعا چطور کار می‌کند.</p><p>کوبرنیتیز یک سیستم توزیع‌شده است. این به این معنی است که شما کوبرنیتیز را بر روی یک سرور نصب نمی‌کنید، بلکه هر قسمت از
این ابزار را بر روی یک سرور مجزا نصب کرده و مدیریت این دستگاه‌ها را به کوبرنیتیز می‌سپارید. اگر بخواهیم با دقت بیشتری به
این دسته سرورها که در فرهنگ لغت کوبرنیتیز به مجموعه‌شان
Cluster
و به هر یک از آن‌ها
Node
می‌گوییم نگاه کنیم، دو دسته
Node
داریم. دسته اول
Workerها
هستند. این دسته از سرورها وظیفه اجرای کانتینرهای ما و اتصال به دیگر
Nodeها
برای ایجاد یک شبکه را دارند. در مقابل این
Node
ها،‌
Node
های
Control Plane
را داریم. وظیفه
Nodeهای
Control Plane
دریافت دستورات و خواسته‌های کاربر، ذخیره و کنترل کردن وضعیت کلاستر برای اجرای خواسته‌های کاربر است.</p><p>برای آشنایی بیشتر با اجزای مختلفی که در نهایت کوبرنیتیز را می‌سازند،‌ می‌توانید
<a href="https://youtube.com/watch?v=n4zxKk2an3U&amp;feature=share7" target="_blank" rel="noopener noreferrer">این ویدیو</a>
را تماشا کنید.</p><h1>اجرای کوبرنیتیز</h1><p>نصب و اجرای کوبرنیتیز به صورت آماده برای محیط‌های عملیاتی فرایندی تقریبا پیچیده است. برای این کار از
Kubeadm
یا ابزارهای دیگر استفاده می‌شود. در اینجا با توجه به اینکه نیازی به استفاده عملیاتی از این ابزار نداریم، می‌توانیم از
ابزارهایی که کوبرنیتیز را به صورت محلی و برای تست اجرا می‌کنند استفاده کنیم. دو تا از این ابزارها
Kind
و
Minikube
هستند. این ابزارها به ما اجازه می‌دهند با استفاده از داکر یا ابزارهای مجازی‌سازی کوبرنیتیز را بر روی دستگاه شخصی خودمان
اجرا کنیم. در ادامه راه برای استفاده از کوبرنیتیز ما از ابزار
Kind
استفاده می‌کنیم.</p><p>پیش از اینکه به سراغ استفاده از کوبرنیتیز برویم، نیاز به ابزاری برای مدیریت کلاستر داریم. این ابزار
Kubectl
است که به ما اجازه می‌دهد از طریق محیط خط فرمان کلاستر خود را کنترل کنیم. ابتدا
<a href="https://kind.sigs.k8s.io/" target="_blank" rel="noopener noreferrer">Kubectl</a>
و سپس
<a href="https://kind.sigs.k8s.io/" target="_blank" rel="noopener noreferrer">Kind</a>
را نصب کرده و سعی کنید یک کلاستر با یک نود
Control Plane
و یک نود
Worker
بسازید. برای اطمینان از صحت کلاستر خود می‌توانید دستور</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get nodes</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="کپی به کلیپ‌بورد" title="کپی" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>را اجرا کنید.</p><h1>اجرای نرم‌افزار بر روی کوبرنیتیز</h1><p>کوچک‌ترین شیء در دنیای کوبرنیتیز
Pod
یا پاد است. هر پاد متشکل از یک یا چند کانتینر است که برخی از منابع را به صورت اشتراکی و برخی دیگر را به صورت جدا استفاده
می‌کنند. در اینجا برای سادگی می‌توانیم فرض کنیم که پاد در دنیای کوبرنیتیز با کانتینرهای داکری تناظر یک به یک داشته و هر
پاد معادل یک کانتینر است.</p><p>اشیا در کوبرنیتیز بوسیله ساختاری به نام منیفست توصیف می‌شوند. منیفست‌ها قطعات کدی مانند فایل‌های
Docker compose
هستند که در فاز قبلی با آن‌ها آشنا شدیم. منیفست زیر یک پاد را توصیف می‌کند. درباره هر یک از بخش‌های آن جست‌وجو کنید و
سعی کنید ساختار آن را درک کنید.</p><p>برای مدیریت اشیا در کوبرنیتیز با استفاده از ابزار
kubectl
برای هر نوع شی دستوری با ساختار زیر را اجرا می‌کنیم:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">verb</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">resource</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="کپی به کلیپ‌بورد" title="کپی" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>مثلا برای مشاهده تمامی پادها از دستور</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="کپی به کلیپ‌بورد" title="کپی" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>استفاده می‌شود.</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">app</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Nginx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">container</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nginx</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="کپی به کلیپ‌بورد" title="کپی" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>منیفست بالا را به صورت یک فایل
<code>yaml</code>
ذخیره کرده و با استفاده از دستور</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl apply -f pod.yaml</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="کپی به کلیپ‌بورد" title="کپی" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>آن را برای اجرا به کلاستر خود ارسال کنید.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deployment">Deployment<a class="hash-link" href="#deployment" title="لینک مستقیم به عنوان">​</a></h2><p>همانطور که گفتیم یکی از مشکلاتی که با استفاده از کوبرنیتیز سعی در رفع آن‌ها داریم، مسئله خودترمیمی نرم‌افزارها است. با
توجه به این نیازمندی، می‌توان دید که اگر ما یک پاد را به صورت مستقل بر روی کوبرنیتیز اجرا کنیم، با پاک شدن آن پاد
نرم‌افزار ما دچار مشکل می‌شود. به همین خاطر به چیزی نیاز داریم که با توصیف نوع پادهای مورد نیازمان، کوبرنیتیز پادها را
به صورت خودکار ساخته و مدیریت کند.</p><p>یکی از چیزهایی که می‌تواند این نیازمندی ما را رفع کند
Deployment
است. اطلاعات آن را از منابع اصلی کوبرنیتیز خوانده و سعی کنید یک
Deployment
برای پاد مرحله قبل بنویسید و بر روی کلاستر قرار دهید.</p><p>بجز
Deployment
راه‌های دیگری مثل
Statefulset
و
Deamonset
نیز برای اجرای کانتینرها بر روی کوبرنیتیز وجود دارد. درباره
آن‌ها تحقیق کنید و تفاوت‌ها و شباهت‌های آن‌ها را مشخص کنید.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="service">Service<a class="hash-link" href="#service" title="لینک مستقیم به عنوان">​</a></h2><p>پس از اجرای دیپلویمنت بر روی کوبرنیتیز، نیاز به راهی برای ارتباط با پاد‌های مستقر شده داریم. کوبرنیتیز به صورت خودکار به
هر پاد یک آدرس
IP
منحصر به فرد اختصاص می‌دهد اما با توجه به اینکه ممکن است یک
Deployment
چندین پاد یکسان را مدیریت کند و
نیاز به تقسیم بار بر روی آن‌ها داشته باشیم نمی‌توان از آدرس اصلی پادها استفاده کنیم. علاوه بر این با حذف شدن پادها و
اجرای دوباره آن‌ها این آدرس ممکن است تغییر کند و از این جهت نیز استفاده از آن منطقی نیست.</p><p>کوبرنیتیز برای رفع این مشکل از شی
Service
استفاده می‌کند. این شی به ما اجازه می‌دهد با یک آدرس
IP
مجازی، با یک گروه از
پادها ارتباط برقرار کنیم. همچنین این شی به صورت خودکار بار را بین این پادها تقسیم کرده و در زمان مشکل دار شدن یک پاد
درخواست‌های ما را به آن نمی‌فرستد.</p><p>اطلاعات
Service
را از منابع اصلی کوبرنیتیز خوانده و سعی کنید یک سرویس از نوع
NodePort
و یک سرویس از نوع
ClusterIP
برای
Deployment
مرحله قبل بنویسید و بر روی کلاستر قرار دهید. تفاوت این دو نوع سرویس در چیست؟</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Star-Academy/codestar-documents/tree/master/docs/devops/08-kubernetes.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>ویرایش مطالب این صفحه</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="کنترل صفحات مطالب"><a class="pagination-nav__link pagination-nav__link--prev" href="/codestar-documents/docs/devops/containerization"><div class="pagination-nav__sublabel">قبلی</div><div class="pagination-nav__label">Containerization</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/codestar-documents/docs/devops/everything-as-code-concept"><div class="pagination-nav__sublabel">بعدی</div><div class="pagination-nav__label">Everything as Code Concept</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#promise-theory" class="table-of-contents__link toc-highlight">Promise Theory</a></li><li><a href="#زیر-پوست-کوبرنیتیز" class="table-of-contents__link toc-highlight">زیر پوست کوبرنیتیز</a></li><li><a href="#deployment" class="table-of-contents__link toc-highlight">Deployment</a></li><li><a href="#service" class="table-of-contents__link toc-highlight">Service</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">مستندات</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/codestar-documents/docs/intro">مقدمات</a></li><li class="footer__item"><a class="footer__link-item" href="/codestar-documents/docs/frontend">فرانت‌اند</a></li><li class="footer__item"><a class="footer__link-item" href="/codestar-documents/docs/software-engineering">مهندسی نرم‌افزار</a></li><li class="footer__item"><a class="footer__link-item" href="/codestar-documents/docs/general">عمومی</a></li><li class="footer__item"><a class="footer__link-item" href="/codestar-documents/docs/project">پروژه</a></li><li class="footer__item"><a class="footer__link-item" href="/codestar-documents/docs/roadmaps">مسیرهای یادگیری</a></li></ul></div><div class="col footer__col"><div class="footer__title">بیشتر</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Star-Academy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.aparat.com/Code_star/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Aparat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">تمامی حقوق مادی و معنوی این سایت متعلق به آکادمی ستاره می‌باشد.</div></div></div></footer></div>
<script src="/codestar-documents/assets/js/runtime~main.cb905b72.js"></script>
<script src="/codestar-documents/assets/js/main.b72dbebf.js"></script>
</body>
</html>